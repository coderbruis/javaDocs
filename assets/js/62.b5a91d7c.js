(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{457:function(_,v,t){"use strict";t.r(v);var i=t(2),l=Object(i.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h1",{attrs:{id:"_1-双十一抗压场景分析-商品加入购物车"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-双十一抗压场景分析-商品加入购物车"}},[_._v("#")]),_._v(" 1. 双十一抗压场景分析——商品加入购物车")]),_._v(" "),t("p",[_._v("电商平台，用户加入购物车场景分析")]),_._v(" "),t("ol",[t("li",[_._v("用户加入购物车：设计缓存的业务维度")]),_._v(" "),t("li",[_._v("添加商品操作：根据路由Key进行路由到不同的Redis集群")]),_._v(" "),t("li",[_._v("Redis集群不易过大：一般设置为一主两从（为啥集群不易过大呢？）")]),_._v(" "),t("li",[_._v("Redis数据同步问题：参考mysql binlog，配合RDB + AOF")])]),_._v(" "),t("h1",{attrs:{id:"_2-双十一抗压场景分析-用户下单"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-双十一抗压场景分析-用户下单"}},[_._v("#")]),_._v(" 2. 双十一抗压场景分析——用户下单")]),_._v(" "),t("p",[_._v("电商平台，用户下单分析")]),_._v(" "),t("ol",[t("li",[_._v("用户下单请求：根据业务维度请求不同的SET化服务器进行处理")]),_._v(" "),t("li",[_._v("注意高并发问题：流控、降级、兜底等")]),_._v(" "),t("li",[_._v("订单与库存一致性：数据库表结构设计、接口调用的最终一致性")])]),_._v(" "),t("h1",{attrs:{id:"_3-双十一抗压场景分析-用户支付"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-双十一抗压场景分析-用户支付"}},[_._v("#")]),_._v(" 3. 双十一抗压场景分析——用户支付")]),_._v(" "),t("p",[_._v("电商平台，用户支付分析")]),_._v(" "),t("ol",[t("li",[_._v("支付场景: A账户- money && B账户+ money")]),_._v(" "),t("li",[_._v("传统方式：微服务同步调用强一致性+最终一致性(补偿)")]),_._v(" "),t("li",[_._v("MQ方式: MQ拆分复杂业务，保证高可靠性投递/最终-致性的问题")])]),_._v(" "),t("h1",{attrs:{id:"_4-电商高并发场景解决方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-电商高并发场景解决方案"}},[_._v("#")]),_._v(" 4. 电商高并发场景解决方案")]),_._v(" "),t("ul",[t("li",[_._v("前端dns解析/软硬负载均衡设施进行分流/限流")]),_._v(" "),t("li",[_._v("缓存的业务维度拆分(比如按照业务特性进行拆分)")]),_._v(" "),t("li",[_._v("微服务流控(guava RateLimiter / jdk semaphore/ netflix hystrix )")]),_._v(" "),t("li",[_._v("微服务熔断/降级/兜底(动态调整阈值/降级兜底策略等)")]),_._v(" "),t("li",[_._v("微服务接口的幂等性保障(比如使用redis分布式锁做消息id去重)")]),_._v(" "),t("li",[_._v("数据库分库分表策略(设计契合业务的维度,利用合适的负载均衡算法)")]),_._v(" "),t("li",[_._v("冷热数据/读写分离(比如mysql读写分离/或es hive等)")]),_._v(" "),t("li",[_._v("对有效业务数据的过滤与业务的解耦/微服务的拆分")]),_._v(" "),t("li",[_._v("顺序消息机制，保障局部顺序并行化处理消息")]),_._v(" "),t("li",[_._v("分布式事务，将A、B账户操作进行高度解耦，提升并发性能、吞吐量")]),_._v(" "),t("li")])])}),[],!1,null,null,null);v.default=l.exports}}]);